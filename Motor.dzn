extern int $int$;

interface iMotor
{
	in void turnOn();
	in void turnOff();
	out void error();
	
	behaviour {
		enum State {On, Off};
		State state = State.Off;
		
		[state.On] {
			on turnOn: illegal;
			on turnOff: state = State.Off;
			on inevitable: {error; state = State.Off;}
		}
		
		[state.Off] {
			on turnOn: state = State.On;
			on turnOff: {}
		}
	}
}

component Motor {
	provides iMotor port;
}